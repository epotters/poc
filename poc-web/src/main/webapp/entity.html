<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <title>My first Dojo Dgrid</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat" />
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dojo/resources/dojo.css" />
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dijit/themes/claro/claro.css" />

  <link rel="stylesheet" href="https://cdn.rawgit.com/SitePen/dgrid/v1.1.0/css/dgrid.css" />
  <link rel="stylesheet" href="https://cdn.rawgit.com/SitePen/dgrid/v1.1.0/css/skins/claro.css" />

</head>
<body class="claro">

<div class="content">
  <div class="panel grid-panel">
    <div class="toolbar grid-toolbar" id="people-grid-toolbar"></div>
    <div id="people-grid" class="grid"></div>
  </div>
  <div class="toolbar" id="test-button-toolbar">
    <button id="context-menu-button">Demo context menu</button>
    <button id="dialog-form-button">Show form in dialog</button>
  </div>
</div>


<script>
  var dojoConfig = {
    async: true,
    dojoBlankHtmlUrl: 'blank.html',
    packages: [{
      name: 'dijit',
      location: 'http://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dijit'
    }, {
      name: 'dgrid',
      location: 'https://cdn.rawgit.com/SitePen/dgrid/v1.1.0'
    }, {
      name: 'dstore',
      location: 'https://cdn.rawgit.com/SitePen/dstore/v1.1.1'
    }, {
      name: 'dmodel',
      location: 'https://cdn.rawgit.com/SitePen/dmodel/v0.1.0'
    }, {
      name: 'app',
      location: 'http://dev.localhost/poc-webapp/app'
    }
    ]
  };
</script>

<script src="https://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dojo/dojo.js"></script>


<script>


  // Data model
  /*
   Person = define([
   "dojo/_base/declare",
   "dmodel/Model"],
   function (declare, Model) {

   return declare(Model, {
   schema: {
   id: {
   type: 'number'
   },
   firstName: {
   type: 'string'
   },
   prefix: {
   type: 'string'
   },
   lastName: {
   type: 'string',
   required: true
   },
   gender: {
   type: 'string'
   },
   dateOfBirth: {
   type: 'string'
   }
   }
   });
   });

   */


  var entityType = {
    name: 'person',
    namePlural: 'people',
    label: 'Person',
    labelPlural: 'People',

    getDisplayName: function (person) {
      return person.firstName +
          ((!person.prefix || !person.prefix || person.prefix.length === 0) ? "" : " " + person.prefix) +
          " " + person.lastName
    }
  };

  var genderOptions = {m: "Male", f: "Female"};

  var columns = {
        firstName: 'First Name',
        prefix: "",
        lastName: 'Last Name',
        gender: {
          label: 'Gender',
          get: function (object) {
            return genderOptions[object.gender];
          }
        },
        dateOfBirth: {label: 'Date of Birth'}
      },

      dataUrl = 'data/people.json',
      loadingMessage = 'Loading ' + entityType.labelPlural.toLocaleLowerCase() + '...',
      noDataMessage = 'No ' + entityType.labelPlural.toLocaleLowerCase() + ' found.';


  var entityStore, entityGrid, entityForm, contextMenu, formDialog;



</script>


<script>
  require([
    "dojo/domReady!",

    "app/EntityStore",
    "app/EntityGrid",
    "app/EntityForm",
    "app/EntityMenu"

  ], function (EntityStore, EntityGrid, EntityForm, EntityMenu) {

    window.entityStore = EntityStore;
    window.entityGrid = EntityGrid;
    window.entityForm = EntityForm;
    window.entityMenu = EntityMenu;

    console.log("Creating all parts of the Entity layout");
  });
</script>

</body>
</html>
