<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <title>Entity view</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat" />
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dojo/resources/dojo.css" />
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dijit/themes/claro/claro.css" />

  <link rel="stylesheet" href="https://cdn.rawgit.com/SitePen/dgrid/v1.1.0/css/dgrid.css" />
  <link rel="stylesheet" href="https://cdn.rawgit.com/SitePen/dgrid/v1.1.0/css/skins/claro.css" />

  <link rel="stylesheet" href="themes/default/entity-view.css" />


  <script>
    var dojoConfig = {
      async: true,
      dojoBlankHtmlUrl: "blank.html",
      packages: [{
        name: "dijit",
        location: "http://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dijit"
      }, {
        name: "dgrid",
        location: "https://cdn.rawgit.com/SitePen/dgrid/v1.1.0"
      }, {
        name: "dstore",
        location: "https://cdn.rawgit.com/SitePen/dstore/v1.1.1"
      }, {
        name: "dmodel",
        location: "https://cdn.rawgit.com/SitePen/dmodel/v0.1.0"
      }, {
        name: "app",
        location: "http://dev.localhost/poc-webapp/app"
      }]
    };
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/dojo/1.12.2/dojo/dojo.js"></script>

</head>
<body class="claro">


<header>
  <div class="banner"></div>
  <div class="menubar">
    <nav></nav>
    <nav></nav>
  </div>
</header>
<main>
  <div class="content">
    <div class="panel entity-panel">
      <div id="entity-toolbar" class="toolbar"></div>
      <div id="entity-grid" class="grid"></div>
      <div id="entity-form" class="form"></div>
    </div>
  </div>
</main>
<footer>
</footer>



<script>



  require([
        "dojo/io-query",
        "app/EntityView",
        "app/domain/organizationViewConfig"
      ],
      function (ioQuery, EntityView, organizationViewConfig) {
        console.log("Creating entity view");

        var uri = location.href,
            query = uri.substring(uri.indexOf("?") + 1, uri.length),
            queryObject = ioQuery.queryToObject(query);

        console.log("Type name: \"" + queryObject["type-name"] + "\"");

        var entityView = new EntityView({typeViewConfig: organizationViewConfig});
      });
</script>

</body>
</html>
